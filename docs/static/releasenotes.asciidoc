[[releasenotes]]
== Release Notes

This section summarizes the changes in the following releases:

* <<logstash-8-0-0,Logstash 8.0.0>>
* <<logstash-8-0-0-rc2,Logstash 8.0.0-rc2>>
* <<logstash-8-0-0-rc1,Logstash 8.0.0-rc1>>
* <<logstash-8-0-0-beta1,Logstash 8.0.0-beta1>>
* <<logstash-8-0-0-alpha2,Logstash 8.0.0-alpha2>>
* <<logstash-8-0-0-alpha1,Logstash 8.0.0-alpha1>>

[[logstash-8-0-0]]
=== Logstash 8.0.0 Release Notes

The list combines release notes from the 8.0.0-alpha1, -alpha2, -beta1, -rc1 and -rc2 releases.

==== Logstash core
* Fixed long-standing issue in which the `events.out` count incorrectly included events that had been dropped with the drop filter.
  Now the total out event count includes only events that reach the out stage. https://github.com/elastic/logstash/pull/13593[#13593]
* Reduced scope and impact of a memory leak that can be caused by using UUIDs or other high-cardinality field names https://github.com/elastic/logstash/pull/13642[#13642]
* Fixed an issue with the Azure input plugin that caused Logstash to crash when the input was used in a pipeline. https://github.com/elastic/logstash/pull/13603[#13603]
* Many plugins can now be run in a mode that avoids implicit conflict with the Elastic Common Schema (ECS).
  This mode is controlled individually with each plugin’s ecs_compatibility option, which defaults to the value of the Logstash pipeline.ecs_compatibility setting.
  In Logstash 8, this compatibility mode will be on-by-default for all pipelines.
  If you wish to lock in a pipeline’s behavior from Logstash 7.x before upgrading to Logstash 8,
  you can set pipeline.ecs_compatibility: disabled to its definition in pipelines.yml (or globally in logstash.yml).
* Logstash Docker images are now based on Ubuntu 20.04.
* BREAKING CHANGE: Starting from Logstash 8.0, the minimum required version of Java to run Logstash is Java 11.
  By default, Logstash will run with the bundled JDK, which has been verified to work with each specific version of Logstash,
  and generally provides the best performance and reliability.
* As processing times speed up, millisecond granularity is not always enough. Inbound data increasingly has sub-millisecond granularity timestamps.
  The pull request https://github.com/elastic/logstash/pull/12797[#12797] allows the internal mechanisms of
  Logstash that hold moment-in-time data - such as the Logstash Event, the Persistent Queue, the Dead Letter Queue and JSON encoding/decoding - to have nanosecond granularity.
* BREAKING CHANGE: Support for using `JAVA_HOME` to override the path to the JDK that Logstash runs with has been removed for this release.
  In the `8.x` release, users should set the value of `LS_JAVA_HOME` to the path of their preferred JDK if they
  wish to use a version other than the bundled JDK. The value of `JAVA_HOME` will be ignored.
* BREAKING CHANGE: The Java Execution Engine has been the default engine since Logstash 7.0, and works with plugins written in either Ruby or Java.
  Removal of the Ruby Execution Engine will not affect the ability to run existing pipelines. https://github.com/elastic/logstash/pull/12517[#12517]
* BREAKING CHANGE: We have added support for UTF-16 and other multi-byte-character when reading log files. https://github.com/elastic/logstash/pull/9702[#9702]
* BREAKING CHANGE: The Field Reference parser interprets references to fields in your pipelines and
  plugins. It was configurable in 7.x, with the default set to strict to reject
  inputs that are ambiguous or illegal. Configurability is removed in 8.0. Now {ls} rejects ambiguous and illegal inputs
  as standard behavior. https://github.com/elastic/logstash/pull/12466[#12466]
* We have added another flag to the Benchmark CLI to allow passing a data file with previously captured data to the custom test case.
  This feature allows users to run the Benchmark CLI in a custom test case with a custom config and a custom dataset. https://github.com/elastic/logstash/pull/12437[#12437]

==== Plugins
Here are the plugin changes.


===== Codec plugins
*Avro Codec - 3.3.1*

* Pin avro gem to 1.10.x, as 1.11+ requires ruby 2.6+ https://github.com/logstash-plugins/logstash-codec-avro/pull/37[#37]
* Add ECS support. Add target option and event.original https://github.com/logstash-plugins/logstash-codec-avro/pull/36[#36]

*Collectd Codec - 3.1.0*

* Feat: added target configuration + event-factory support https://github.com/logstash-plugins/logstash-codec-collectd/pull/31[#31]

*Edn Codec - 3.1.0*

* Feat: target configuration + event-factory support https://github.com/logstash-plugins/logstash-codec-edn/pull/6[#6]

*Edn_lines Codec - 3.1.0*

*  Feat: target configuration + event-factory support https://github.com/logstash-plugins/logstash-codec-edn_lines/pull/6[#6]

*Es_bulk Codec - 3.1.0*

* Add ECS support. Add `target` option https://github.com/logstash-plugins/logstash-codec-es_bulk/pull/20[#20]

*Fluent Codec - 3.4.1*

* Fix: handle multiple PackForward-encoded messages in a single payload https://github.com/logstash-plugins/logstash-codec-fluent/pull/28[#28]
* Feat: added target configuration + event-factory support https://github.com/logstash-plugins/logstash-codec-fluent/pull/27[#27]
* Fix: decoding of time's nano-second precision

*Json Codec - 3.1.0*

* Feat: event `target => namespace` support (for ECS) https://github.com/logstash-plugins/logstash-codec-json/pull/37[#37]
* Fix: json parsing compatibility (when parsing blank strings) + freeze event.original value https://github.com/logstash-plugins/logstash-codec-json/pull/38[#38]

*Json_lines Codec - 3.1.0*

* Feat: event `target => namespace` support (ECS) https://github.com/logstash-plugins/logstash-codec-json_lines/pull/41[#41]
* Refactor: dropped support for old Logstash versions (< 6.0)

*Line Codec - 3.1.1*

* [DOC] Add ECS compatibility info https://github.com/logstash-plugins/logstash-codec-line/pull/19[#19]

* Feat: ECS + event_factory support https://github.com/logstash-plugins/logstash-codec-line/pull/18[#18]

*Msgpack Codec - 3.1.0*

* Feat: added target configuration + event-factory support https://github.com/logstash-plugins/logstash-codec-msgpack/pull/13[#13]
* Fix: decoding to create a fallback event when msg-pack unpacking fails

*Plain Codec - 3.1.0*

* Feat: ECS compatibility https://github.com/logstash-plugins/logstash-codec-plain/pull/10[#10]

*Multiline Codec - 3.1.1*

* Fix: avoid reusing per-identity codec instances for differing identities. Removes a very minor optimization so that stateful codecs like CSV can work reliably https://github.com/logstash-plugins/logstash-codec-multiline/pull/70[#70]
* Feat: ECS compatibility https://github.com/logstash-plugins/logstash-codec-multiline/pull/69[#69]


===== Filter plugins
*Aggregate Filter - 2.10.0*

* Feat: add ability to generate new event during code execution https://github.com/logstash-plugins/logstash-filter-aggregate/pull/116[#116]

*Csv Filter - 3.1.1*

* Refactor: unified ECS target + validate field reference https://github.com/logstash-plugins/logstash-filter-csv/pull/86[#86]
* Add ECS support https://github.com/logstash-plugins/logstash-filter-csv/pull/85[#85]
* [DOC] Fixed formatting to improve readability https://github.com/logstash-plugins/logstash-filter-csv/pull/84[#84]

*Date Filter - 3.1.14*

* Update log4j to 2.17.1
* Ensure java 8 compatibility https://github.com/logstash-plugins/logstash-filter-date/pull/143[#143]
* Internal: upgrade packaging tooling to Gradle 7 so that plugin can be packaged on modern Java releases https://github.com/logstash-plugins/logstash-filter-date/pull/140[#140]
* Internal: refined spec and unit test assertions to account for changes in how timestamps are serialised in Logstash 8. https://github.com/logstash-plugins/logstash-filter-date/pull/141[#141]
* Build against JRuby 9k https://github.com/logstash-plugins/logstash-filter-date/issues/116[#116]

*Dissect Filter - 1.2.4*

* Update log4j dependencies to 2.17.1
* Fix: update to Gradle 7 https://github.com/logstash-plugins/logstash-filter-dissect/pull/78[#78]
* [DOC] Added note to clarify notation for dot or nested fields https://github.com/logstash-plugins/logstash-filter-dissect/pull/76[#76]

*Fingerprint Filter - 3.3.2*

* [DOC] Clarify behavior when key is set https://github.com/logstash-plugins/logstash-filter-fingerprint/pull/65[#65].
* Force encoding to UTF-8 when concatenating sources to generate fingerprint https://github.com/logstash-plugins/logstash-filter-fingerprint/pull/64[#64]
* Add ECS compatibility https://github.com/logstash-plugins/logstash-filter-fingerprint/pull/62[#62]

*Geoip Filter - 7.2.9*

* Update Log4j dependency to 2.17.1
* Added preview of ECS-v8 support with existing ECS-v1 implementation https://github.com/logstash-plugins/logstash-filter-geoip/pull/193[#193]
* Fix: update to Gradle 7 https://github.com/logstash-plugins/logstash-filter-geoip/pull/191[#191]
* [DOC] Clarify CC licensed database indefinite use condition and air-gapped environment https://github.com/logstash-plugins/logstash-filter-geoip/pull/192[#192]
* Fix: update to Gradle 7 https://github.com/logstash-plugins/logstash-filter-geoip/pull/191[#191]
* [DOC] Clarify CC licensed database indefinite use condition and air-gapped environment https://github.com/logstash-plugins/logstash-filter-geoip/pull/192[#192]
* [DOC] Add documentation for bootstrapping air-gapped environment for database auto-update https://github.com/logstash-plugins/logstash-filter-geoip/pull/189[#189]
* [DOC] Add documentation for database auto-update behavior and database metrics https://github.com/logstash-plugins/logstash-filter-geoip/pull/187[#187]
* Republish the gem due to missing jars in 7.2.0 https://github.com/logstash-plugins/logstash-filter-geoip/pull/186[#186]

*Grok Filter - 4.4.1*

* Added preview of ECS v8 support using existing ECS v1 implementation https://github.com/logstash-plugins/logstash-filter-grok/pull/175[#175]

*Elasticsearch Filter - 3.11.0*

* Feat: update Elasticsearch client to 7.14.0 https://github.com/logstash-plugins/logstash-filter-elasticsearch/pull/150[#150]
* Feat: add user-agent header passed to the Elasticsearch HTTP connection https://github.com/logstash-plugins/logstash-filter-elasticsearch/pull/152[#152]
* Fixed SSL handshake hang indefinitely with proxy setup https://github.com/logstash-plugins/logstash-filter-elasticsearch/pull/151[#151]

*Http_poller Input - 5.1.0*

* Add ECS support https://github.com/logstash-plugins/logstash-input-http_poller/pull/129[#129]


*Kv Filter - 4.5.0*

* Feat: check that target is set in ECS mode https://github.com/logstash-plugins/logstash-filter-kv/pull/96[#96]

*Json Filter - 3.2.0*

* Feat: check target is set in ECS mode https://github.com/logstash-plugins/logstash-filter-json/pull/49[#49]
* Refactor: logging improvements to print event details in debug mode

*Mutate Filter - 3.5.6*

* [DOC] Added info on maintaining precision between Ruby float and Elasticsearch float https://github.com/logstash-plugins/logstash-filter-mutate/pull/158[#158]
* Fix: removed code and documentation for already removed 'remove' option. https://github.com/logstash-plugins/logstash-filter-mutate/pull/161[#161]
* [DOC] In 'replace' documentation, mention 'add' behavior https://github.com/logstash-plugins/logstash-filter-mutate/pull/155[#155]
* [DOC] Add warning about #27 https://github.com/logstash-plugins/logstash-filter-mutate/pull/101[#101]
* [DOC] Expand description and behaviors for `rename` option https://github.com/logstash-plugins/logstash-filter-mutate/pull/156[#156]

*Syslog_pri Filter - 3.1.1*

* Added preview of ECS-v8 support with existing ECS-v1 implementation https://github.com/logstash-plugins/logstash-filter-syslog_pri/pull/10[#10]

*Translate Filter - 3.3.0*

* Feat: added ECS compatibility mode https://github.com/logstash-plugins/logstash-filter-translate/pull/89[#89]
- when ECS compatibility is enabled, default behaviour is an in-place translation
* Fix: improved error handling - do not rescue potentially fatal (JVM) errors

*Useragent Filter - 3.3.2*

* Added preview of ECS-v8 support with existing ECS-v1 implementation https://github.com/logstash-plugins/logstash-filter-useragent/pull/76[#76]
* Internal: update to Gradle 7 https://github.com/logstash-plugins/logstash-filter-useragent/pull/75[#75]
* Fix: invalid 3.3.0 release which did not package correctly https://github.com/logstash-plugins/logstash-filter-useragent/pull/71[#71]
* Feat: support ECS mode when setting UA fields https://github.com/logstash-plugins/logstash-filter-useragent/pull/68[#68]
* Fix: capture os major version + update UA regexes https://github.com/logstash-plugins/logstash-filter-useragent/pull/69[#69]
* Plugin no longer sets the `[build]` UA version field which is not implemented and was always `""`.
* Fix: `target => [field]` configuration, which wasn't working previously


*Xml Filter - 4.1.3*

* [DOC] Updated URL for current xsl reference docs https://github.com/logstash-plugins/logstash-filter-xml/pull/70[#70]
* [DOC] Added info about non valid characters https://github.com/logstash-plugins/logstash-filter-xml/pull/72[#72]


===== Input plugins
*Azure_event_hubs Input - 1.4.3*

* Update log4j dependencies to 2.17.0
* Build: make log4j-api a provided dependency https://github.com/logstash-plugins/logstash-input-azure_event_hubs/pull/73[#73]
* Fixed Gradle's script to use Gradle 7 https://github.com/logstash-plugins/logstash-input-azure_event_hubs/pull/69[#69]
* Updated the minor version of Azure SDK and other dependencies to ensure users of this plugin get upstream fixes and improvements https://github.com/logstash-plugins/logstash-input-azure_event_hubs/pull/67[#67]
* Add EventHub `user properties` in `@metadata` object https://github.com/logstash-plugins/logstash-input-azure_event_hubs/pull/66[#66]

*Beats Input - 6.2.5*

* Build: do not package log4j-api dependency https://github.com/logstash-plugins/logstash-input-beats/pull/441[#441].
Logstash provides the log4j framework and the dependency is not needed except testing and compiling.
* Fix: update to Gradle 7 https://github.com/logstash-plugins/logstash-input-beats/pull/432[#432]
* [DOC] Edit documentation for `executor_threads` https://github.com/logstash-plugins/logstash-input-beats/pull/435[#435]
* Fix: LS failing with `ssl_peer_metadata => true` https://github.com/logstash-plugins/logstash-input-beats/pull/431[#431]
* [DOC] described `executor_threads` configuration parameter https://github.com/logstash-plugins/logstash-input-beats/pull/421[#421]
* ECS compatibility enablement: Adds alias to support upcoming ECS v8 with the existing ECS v1 implementation
* [DOC] Remove limitations topic and link https://github.com/logstash-plugins/logstash-input-beats/pull/428[#428]
* [DOC] Applied more attributes to manage plugin name in doc content, and implemented conditional text processing. https://github.com/logstash-plugins/logstash-input-http/pull/423[#423]

*Dead_letter_queue Input - 1.1.8*

* Update dependencies for log4j to 2.17.1 and jackson

*File Input - 4.4.0*

* Add support for ECS v8 https://github.com/logstash-plugins/logstash-input-file/pull/301[#301]
* Add extra safety to `chown` call in `atomic_write`, avoiding plugin crashes and falling back to a
`non_atomic_write` in the event of failure https://github.com/logstash-plugins/logstash-input-file/pull/295[#295]
* Refactor: unify event updates to happen in one place https://github.com/logstash-plugins/logstash-input-file/pull/297[#297]
* Test: Actually retry tests on `RSpec::Expectations::ExpectationNotMetError` and retry instead of relying on timeout
https://github.com/logstash-plugins/logstash-input-file/pull/297[#297]
* Add ECS Compatibility Mode https://github.com/logstash-plugins/logstash-input-file/pull/291[#291]

*Elasticsearch Input - 4.12.1*

* Fixed too_long_frame_exception by passing scroll_id in the body https://github.com/logstash-plugins/logstash-input-elasticsearch/pull/159[#159]
* Feat: Update Elasticsearch client to 7.14.0 https://github.com/logstash-plugins/logstash-input-elasticsearch/pull/157[#157]
* Feat: add user-agent header passed to the Elasticsearch HTTP connection https://github.com/logstash-plugins/logstash-input-elasticsearch/pull/158[#158]
* Feat: added ecs_compatibility + event_factory support https://github.com/logstash-plugins/logstash-input-elasticsearch/pull/149[#149]
* Fixed SSL handshake hang indefinitely with proxy setup https://github.com/logstash-plugins/logstash-input-elasticsearch/pull/156[#156]

*Heartbeat Input - 3.1.1*

* Docs: added information on ECS v8 support https://github.com/logstash-plugins/logstash-input-heartbeat/pull/19[#19]
* Added new `sequence` setting to manage the type of sequence generator and added ECS
compatibility behavior https://github.com/logstash-plugins/logstash-input-heartbeat/pull/18[#18]

*Http Input - 3.4.5*

* Build: do not package log4j-api dependency https://github.com/logstash-plugins/logstash-input-http/pull/149[#149].
Logstash provides the log4j framework and the dependency is not needed except testing and compiling.
* Update Log4j dependency to 2.17.0
* Fix: update to Gradle 7 https://github.com/logstash-plugins/logstash-input-http/pull/145[#145]
* [DOC] Added `v8` as an acceptable value for `ecs_compatibility` https://github.com/logstash-plugins/logstash-input-http/pull/142[#142]
* Changed jar dependencies to reflect newer versions https://github.com/logstash-plugins/logstash-input-http/pull/140[#140]
* Add ECS support, mapping Http header to ECS compatible fields https://github.com/logstash-plugins/logstash-input-http/pull/137[#137]

*Redis Input - 3.7.0*

* Fix: better (Redis) exception handling https://github.com/logstash-plugins/logstash-input-redis/pull/89[#89]
* Test: start running integration specs on CI

*Snmp Input - 1.2.8*

* Fixed interval handling to only sleep off the _remainder_ of the interval (if any), and to log a helpful warning when crawling the hosts takes longer than the configured interval https://github.com/logstash-plugins/logstash-input-snmp/issues/61[#61]

*Stdin Input - 3.4.0*

* Add ECS v8 support as alias of v1 implementation

*Tcp Input - 6.2.6*

* [DOC] Fix incorrect pipeline code snippet https://github.com/logstash-plugins/logstash-input-tcp/pull/194[#194]
* Update log4j dependency to 2.17.1 https://github.com/logstash-plugins/logstash-input-tcp/pull/196[#196]
* Ensure this plugin's runtime relies only on log4j-api instead of providing its own log4j-core. https://github.com/logstash-plugins/logstash-input-tcp/pull/188[#188]
* Internal: update to Gradle 7 https://github.com/logstash-plugins/logstash-input-tcp/pull/184[#184]
* Internal: relax jruby-openssl upper bound https://github.com/logstash-plugins/logstash-input-tcp/pull/185[#185]
* Added ECS Compatibility Mode https://github.com/logstash-plugins/logstash-input-tcp/pull/165[#165]
* When operating in an ECS Compatibility mode, metadata about the connection on which we are receiving data is nested in well-named fields under `[@metadata][input][tcp]` instead of at the root level.
* Fix: source address is no longer missing when a proxy is present
* Changed jar dependencies to reflect newer versions https://github.com/logstash-plugins/logstash-input-http/pull/179[#179]
* Feat: improve SSL error logging/unwrapping https://github.com/logstash-plugins/logstash-input-tcp/pull/178[#178]
* Fix: the plugin will no longer have a side effect of adding the Bouncy-Castle security provider at runtime
* Fix: restore logic to add the Bouncy-Castle security provider at runtime https://github.com/logstash-plugins/logstash-input-tcp/pull/181[#181]

*Udp Input - 3.5.0*

* Added ECS v8 support as an alias to the ECS v1 implementation
*Event_support Mixin - 1.0.1*

*S3 Input - 3.8.1*

* Feat: cast true/false values for additional_settings https://github.com/logstash-plugins/logstash-input-s3/pull/232[#232]
* Add ECS v8 support.
* Add ECS support. https://github.com/logstash-plugins/logstash-input-s3/pull/228[#228]
* Fix missing file in cutoff time change. https://github.com/logstash-plugins/logstash-input-s3/pull/224[#224]


===== Output plugins

*Elasticsearch Output - 11.2.3*

* Downgrade ECS templates, pinning to v1.10.0 of upstream; fixes an issue where ECS templates cannot be installed in Elasticsearch 6.x or 7.1-7.2, since the generated templates include fields of `type: flattened` that was introduced in Elasticsearch 7.3
* Update ECS templates from upstream; `ecs_compatiblity => v1` now resolves to templates for ECS v1.12.1 https://github.com/logstash-plugins/logstash-output-elasticsearch/issues/1027[#1027]
* Fix referencing Gem classes from global lexical scope https://github.com/logstash-plugins/logstash-output-elasticsearch/pull/1044[#1044]
* Added preflight checks on Elasticsearch https://github.com/logstash-plugins/logstash-output-elasticsearch/pull/1026[#1026]
* Feat: add `user-agent` header passed to the Elasticsearch HTTP connection https://github.com/logstash-plugins/logstash-output-elasticsearch/pull/1038[#1038]
* Fixed running post-register action when Elasticsearch status change from unhealthy to healthy https://github.com/logstash-plugins/logstash-output-elasticsearch/pull/1035[#1035]
* [DOC] Clarify that `http_compression` applies to _requests_, and remove noise about _response_ decompression https://github.com/logstash-plugins/logstash-output-elasticsearch/pull/1000[#1000]
* Fixed SSL handshake hang indefinitely with proxy setup https://github.com/logstash-plugins/logstash-output-elasticsearch/pull/1032[#1032]

*Lumberjack Output - 3.1.9*

* [DOC] Specified the policy selection of host from `hosts` setting https://github.com/logstash-plugins/logstash-output-lumberjack/pull/32[#32]

*S3 Output - 4.3.5*

* Feat: cast true/false values for additional_settings https://github.com/logstash-plugins/logstash-output-s3/pull/241[#241]

*Sns Output - 4.0.8*

* Feat: handle host object as subject (due ECS) https://github.com/logstash-plugins/logstash-output-sns/pull/22[#22]

*Udp Output - 3.2.0*

* Added field reference support in `port` https://github.com/logstash-plugins/logstash-output-udp/pull/13[#13]


*Jdbc Integration - 5.1.8*

* Fix the blocking pipeline reload and shutdown when connectivity issues happen https://github.com/logstash-plugins/logstash-integration-jdbc/pull/85[#85]
* Normalize jdbc_driver_class loading to support any top-level java packages https://github.com/logstash-plugins/logstash-integration-jdbc/pull/86[#86]
* Fix the blocking pipeline reload and shutdown when connectivity issues happen https://github.com/logstash-plugins/logstash-integration-jdbc/pull/85[#85]
* [DOC] Update filter-jdbc_static doc to describe ECS compatibility https://github.com/logstash-plugins/logstash-integration-jdbc/pull/79[#79]
* Improve robustness when handling errors from `sequel` library in jdbc static and streaming
filters https://github.com/logstash-plugins/logstash-integration-jdbc/pull/78[#78]
*  Fix `prepared_statement_bind_values` in streaming filter to resolve nested event's fields https://github.com/logstash-plugins/logstash-integration-jdbc/pull/76[#76]
* [DOC] Changed docs to indicate that logstash-jdbc-static requires local_table https://github.com/logstash-plugins/logstash-integration-jdbc/pull/56[#56]. Fixes https://github.com/logstash-plugins/logstash-integration-jdbc/issues/55[#55].
* Added `target` option to JDBC input, allowing the row columns to target a specific field instead of being expanded
at the root of the event. This allows the input to play nicer with the Elastic Common Schema when
the input does not follow the schema. https://github.com/logstash-plugins/logstash-integration-jdbc/issues/69[#69]
* Added `target` to JDBC filter static `local_lookups` to verify it is properly valued when ECS is enabled. https://github.com/logstash-plugins/logstash-integration-jdbc/issues/71[#71]

*Kafka Integration - 10.8.2*

* [DOC] Updates description of `enable_auto_commit=false` to clarify that the commit happens after data is fetched AND written to the queue https://github.com/logstash-plugins/logstash-integration-kafka/pull/90[#90]
* Fix: update to Gradle 7 https://github.com/logstash-plugins/logstash-integration-kafka/pull/104[#104]
* [DOC] Clarify Kafka client does not support proxy https://github.com/logstash-plugins/logstash-integration-kafka/pull/103[#103]
* [DOC] Removed a setting recommendation that is no longer applicable for Kafka 2.0+ https://github.com/logstash-plugins/logstash-integration-kafka/pull/99[#99]
* Added config setting to enable schema registry validation to be skipped when an authentication scheme unsupported by the validator is used https://github.com/logstash-plugins/logstash-integration-kafka/pull/97[#97]
* Fix: Correct the settings to allow basic auth to work properly, either by setting `schema_registry_key/secret` or embedding username/password in the
url https://github.com/logstash-plugins/logstash-integration-kafka/pull/94[#94]

*Rabbitmq Integration - 7.3.0*

* Refactor: logging improvements https://github.com/logstash-plugins/logstash-integration-rabbitmq/pull/47[#47]
** integrated MarchHare logging to be part of Logstash's log instead of using std-err
** normalized logging format on (Ruby) errors

*Validator_support Mixin - 1.0.2*

* Fix: '' value behavior in `field_reference` validator https://github.com/logstash-plugins/logstash-mixin-validator_support/pull/2[#2]
* Introduce plugin parameter validation adapters, including initial backport for `:field_reference` validator.

*Ecs_compatibility_support Mixin - 1.3.0*

* Feat: introduce a target check helper https://github.com/logstash-plugins/logstash-mixin-ecs_compatibility_support/pull/6[#6]

*Elastic_enterprise_search Integration - 2.1.2*

* Introduced in 7.14.0


[[logstash-8-0-0-rc2]]
=== Logstash 8.0.0-rc2 Release Notes

[[notable-8.0.0-rc2]]
==== Notable issues fixed
* Fixed long-standing issue in which the `events.out` count incorrectly included events that had been dropped with the drop filter.
Now the total out event count includes only events that reach the out stage. https://github.com/elastic/logstash/pull/13593[#13593]
* Reduced scope and impact of a memory leak that can be caused by using UUIDs or other high-cardinality field names https://github.com/elastic/logstash/pull/13642[#13642]
* Fixed an issue with the Azure input plugin that caused Logstash to crash when the input was used in a pipeline. https://github.com/elastic/logstash/pull/13603[#13603]

==== Plugin releases
Plugins align with release 7.17.0


[[logstash-8-0-0-rc1]]
=== Logstash 8.0.0-rc1 Release Notes

==== Breaking changes

[[rn-ecs-compatibility]]
===== ECS compatibility 
Many plugins can now be run in a mode that avoids implicit conflict with the Elastic Common Schema (ECS). This mode is controlled individually with each plugin’s ecs_compatibility option, which defaults to the value of the Logstash pipeline.ecs_compatibility setting. In Logstash 8, this compatibility mode will be on-by-default for all pipelines.

If you wish to lock in a pipeline’s behavior from Logstash 7.x before upgrading to Logstash 8, you can set pipeline.ecs_compatibility: disabled to its definition in pipelines.yml (or globally in logstash.yml).

==== New features and enhancements

Logstash Docker images are now based on Ubuntu 20.04.

==== Plugin releases
Plugins align with release 7.16.2


[[logstash-8-0-0-beta1]]
=== Logstash 8.0.0-beta1 Release Notes

==== Breaking changes

[[rn-java-11-minimum]]
===== Java 11 minimum
Starting from Logstash 8.0, the minimum required version of Java to run Logstash is Java 11. By default, Logstash will
run with the bundled JDK, which has been verified to work with each specific version of Logstash, and generally
provides the best performance and reliability.

See <<breaking-changes>> for a preview of additional breaking changes coming your way. 

==== New features and enhancements

[[rn-nanosecond-precision]]
===== Nanosecond precision
As processing times speed up, millisecond granularity is not always enough. Inbound data increasingly has sub-millisecond granularity timestamps.
The pull request https://github.com/elastic/logstash/pull/12797[#12797] allows the internal mechanisms of Logstash that hold moment-in-time data - such as the Logstash Event, the Persistent Queue, the Dead Letter Queue and JSON encoding/decoding - to have nanosecond granularity.

Timestamp precision is limited to the JVM and Platform's available granularity, which in many cases is microseconds.

This change also grants users access to https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#patterns[Java time's improved formatters], which include support fort ISO quarters, week-of-month, and a variety of timezone/offset-related format substitutions. For example:

[source,json]
--------------------------------------------------------------------------------
filter {
  mutate {
    add_field => {"nanos" => "Nanos: %{{n}}" }
  }
}
--------------------------------------------------------------------------------

Results in the following event:

[source,json]
--------------------------------------------------------------------------------
{
    "@timestamp" => 2021-10-31T22:32:34.747968Z,
          "host" => "logstash.lan",
         "nanos" => "Nanos: 747968000",
       "message" => "test",
          "type" => "stdin",
      "@version" => "1"
}
--------------------------------------------------------------------------------

==== Plugin releases
Plugins align with release 7.15.1


[[logstash-8-0-0-alpha2]]
=== Logstash 8.0.0-alpha2 Release Notes

==== Breaking changes

[[java-home-breaking-change]]
===== Removed support for JAVA_HOME
Support for using `JAVA_HOME` to override the path to the JDK that Logstash runs with has been removed for this release.
In the `8.x` release, users should set the value of `LS_JAVA_HOME` to the path of their preferred JDK if they
wish to use a version other than the bundled JDK. The value of `JAVA_HOME` will be ignored.

==== Plugin releases
Plugins align with release 7.15.0

[[logstash-8-0-0-alpha1]]
=== Logstash 8.0.0-alpha1 Release Notes

==== Breaking changes

[[ruby-engine]]
===== Ruby Execution Engine removed
The Java Execution Engine has been the default engine since Logstash 7.0, and works with plugins written in either Ruby or Java.
Removal of the Ruby Execution Engine will not affect the ability to run existing pipelines. https://github.com/elastic/logstash/pull/12517[#12517]

[[utf-16]]
===== Support for UTF-16
We have added support for UTF-16 and other multi-byte-character when reading log files. https://github.com/elastic/logstash/pull/9702[#9702]

[[field-ref-parser]]
===== Field Reference parser removed
The Field Reference parser interprets references to fields in your pipelines and
plugins. It was configurable in 7.x, with the default set to strict to reject
inputs that are ambiguous or illegal. Configurability is removed in 8.0. Now
{ls} rejects ambiguous and illegal inputs as standard behavior. https://github.com/elastic/logstash/pull/12466[#12466]

==== New features and enhancements

**Option to pass custom data to the benchmark CLI**

We have added another flag to the Benchmark CLI to allow passing a data file with previously captured data to the custom test case.
This feature allows users to run the Benchmark CLI in a custom test case with a custom config and a custom dataset. https://github.com/elastic/logstash/pull/12437[#12437]

==== Plugin releases
Plugins align with release 7.14.0