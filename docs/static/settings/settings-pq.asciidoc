NOTE: These settings apply only if `queue.type: persisted`.
 
`path.queue`::
The directory path where the data files will be stored when persistent queues are enabled (`queue.type: persisted`). Default: `path.data/queue`. 

`queue.page_capacity`::
The queue data consists of append-only data files separated into "pages. 
This option sets the maximum size of the page data files in bytes (`queue.type: persisted`). 
The default size of 64mb is a good value for most users, and changing this value is unlikely to have performance benefits. 
If you change the page capacity of an existing queue, the new size applies only to the new page. Default is `64mb`.

`queue.drain`::
When set to `true`, Logstash waits until the persistent queue is drained before shutting down. 
The amount of time it takes to drain the queue depends on the number of events that have accumulated in the queue. 
Tip: Avoid using this setting unless the queue, even when full, is relatively small and can be drained quickly. Default is `false`.

`queue.max_events`::
The maximum number of events not yet read by the pipeline worker (`queue.type: persisted`). The default is `0` (unlimited). 
We use this setting for internal testing. 
Users generally shouldn't change this value.

`queue.max_bytes`::
The total capacity of each queue in number of bytes (`queue.type: persisted`). Unless overridden in `pipelines.yml` or central management, each persistent queue will be sized at the value of `queue.max_bytes` specified in `logstash.yml`. 
Be sure that your disk has sufficient capacity to handle the cumulative total of `queue.max_bytes` across all persistent queues. The total of `queue.max_bytes` for ALL queues should be lower than the capacity of your disk. 
If both `queue.max_events` and `queue.max_bytes` are specified, Logstash uses whichever criteria is reached first. Default: 1024mb (1gb).

`queue.checkpoint.acks`::
Sets the maximum number of acked events before forcing a checkpoint (`queue.type: persisted`). Default is 1024. Specify `queue.checkpoint.acks: 0` to set this value to unlimited.
    
`queue.checkpoint.writes`::
Sets the maximum number of written events before a forced checkpoint (`queue.type: persisted`). Default is 1024. Specify `queue.checkpoint.writes: 0` to set this value to unlimited. 
To avoid losing data in the persistent queue, you can set `queue.checkpoint.writes: 1` to force a checkpoint after each event is written. +
 Keep in mind that disk writes have a resource cost. Setting this value to 1 ensures maximum durability, but can severely impact performance. See <<durability-persistent-queues>> to better understand the trade-offs.

`queue.checkpoint.retry`::
When enabled, Logstash will retry four times per attempted checkpoint write for any checkpoint writes that fail. Any subsequent errors are not retried. 
This is a workaround for failed checkpoint writes that have been seen only on Windows platform, filesystems with non-standard behavior such as SANs and is not recommended except in those specific circumstances. (queue.type: persisted)
Default is `true`.

`queue.checkpoint.interval`::
Sets the interval in milliseconds when a checkpoint is forced on the head page (`queue.type: persisted`). Default is 1000. Set to 0 to eliminate periodic checkpoints. 

